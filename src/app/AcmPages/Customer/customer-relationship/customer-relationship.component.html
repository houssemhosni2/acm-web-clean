
<div class="card" >
    <div class="card-header d-flex justify-content-between" id="headingOne" data-target="#collapseOne"
        aria-expanded="true" aria-controls="collapseOne" (click)="toggleCollapse()">
        <div>
            <i class="pe-7s-repeat text-secondary pr-2 px-2"></i>
            {{'customer-360.relationships'| translate }}
        </div>
        <div>
            <i [ngClass]="(expanded===true)?'lnr-chevron-up text-secondary':'lnr-chevron-down text-secondary'"></i>
        </div>
    </div>
    <div id="collapseOne" [ngClass]="(expanded===true)?'collapse show':'collapse'" aria-labelledby="headingOne"
        data-parent="#accordionExample">
      <div *ngIf="customerRelationships.length > 0">
        <div>
            <div class="table-responsive">
                <table class="mb-0 t table table-hover">
                    <thead>
                        <tr>
                            <th>{{"customer.customer_name" | translate}}</th>
                            <th>{{"customer_management.date_of_birth" | translate}}</th>
                            <th>{{"customer.telephone" | translate}}</th>
                            <th>{{"customer.portfolio" | translate}}</th>
                            <th>{{"customer.branch" | translate}}</th>
                            <th>{{"customer.address" | translate}}</th>
                            <th></th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr
                            *ngFor="let relationship of customerRelationships">
                            <td>{{relationship.member.firstName }} {{relationship.member.secondName }} {{relationship.member.middleName }} {{relationship.member.lastName }}</td>
                            <td>{{ relationship.member.dateOfBirth | date: 'dd/MM/yyyy'}}</td>
                            <td *ngIf="relationship.member.telephone">{{ relationship.member.telephone}}</td>
                            <td *ngIf="!relationship.member.telephone">{{'customer.msg_telephone'| translate }}</td>
                            <td>{{ relationship.member.accountPortfolioDescription}}</td>
                            <td>{{ relationship.member.branchesName}}</td>
                            <td>{{ relationship.member.customerAddress}}</td>
                            <td>
                                <button class="btn btn-warning" (click)='customerDetails(relationship.member)'>
                                <i class="pe-7s-look btn-icon-wrapper text-white"></i>
                                </button>
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>
        <div class="card-footer pb-0">
            <div class="row no-gutters w-100">
                <div class="col-xl-6 col-lg-6 col-md-12">
                    <ngb-pagination [collectionSize]="customerRelationships.length" [(page)]="page" [pageSize]="pageSize" size="sm"
                        [maxSize]="3" [boundaryLinks]="true">
                    </ngb-pagination>
                </div>
                <div class="col-xl-6 col-lg-6 col-md-12">
                    <div class="d-flex justify-content-lg-end">
                        <select class="custom-select" style="width: auto" name="pageSize" [(ngModel)]="pageSize">
                            <option [ngValue]="5">{{'pagination.5_item'| translate }}</option>
                            <option [ngValue]="10">{{'pagination.10_item'| translate }}</option>
                            <option [ngValue]="20">{{'pagination.20_item'| translate }}</option>
                            <option [ngValue]="50">{{'pagination.50_item'| translate }}</option>
                        </select>
                    </div>
                </div>
            </div>
        </div>
      </div>
      <div *ngIf="customerRelationships.length === 0">
        <div class="card-body">
          <h6 class="text-danger pt-3">{{ 'customer.no_data_to_display' | translate }}</h6>
        </div>
      </div>
    </div>
</div>
