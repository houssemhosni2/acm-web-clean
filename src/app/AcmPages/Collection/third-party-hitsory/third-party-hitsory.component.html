<div class="accordion mb-1">
  <div class="card">
    <div class="card-header-tab card-header d-flex justify-content-between" data-target="#collapseOne"
         aria-expanded="true" aria-controls="collapseOne" (click)="toggleCollapse()">
      <div *ngIf="process!='COLLECTION'&& process!='GENERIC_WORKFLOW'" class="card-header-title">
        <i class="lnr-user text-secondary px-2"></i>
        {{'collections.collections_legal.legal_third_party'|translate}} {{'customer_management.history'|translate}}
      </div>
      <div *ngIf="process=='COLLECTION'" class="card-header-title">
        <i class="lnr-user text-secondary px-2"></i>
        {{'collections.collections_legal.collection_third_party'|translate}} {{'customer_management.history'|translate}}
      </div>
      <div *ngIf="process=='GENERIC_WORKFLOW'" class="card-header-title">
        <i class="lnr-user text-secondary px-2"></i>
        {{ 'setting.third-party.third-party' | translate }}  {{'customer_management.history'|translate}}
      </div>
      <div>
        <i
          [ngClass]="(expanded===true)?'lnr-chevron-up text-secondary':'lnr-chevron-down text-secondary'"></i>
      </div>
    </div>
    <div id="collapseOne" [ngClass]="(expanded===true)?'collapse show':'collapse'"
         aria-labelledby="headingOne"
         data-parent="#accordionExample">
      <div *ngIf="listParticipants.length > 0">
        <div class="p-0">
          <!-- tableau notes -->
          <div class="table-responsive-md">
            <table class="table">
              <thead>
              <tr>
                <th class="text-center">{{'collaterol.type'|translate}}</th>
                <th class="text-center">{{'setting.setting_users.first-name'|translate}}</th>
                <th class="text-center">{{'setting.setting_users.last-name'|translate}}</th>
                <th  class="text-center">{{'step'| translate}} </th>
                <th class="text-center">{{'customer.telephone'|translate}}</th>
                <th class="text-center">{{'customer.email'|translate}}</th>
                <th class="text-center">{{'customer.address'|translate}} </th>

                <!-- <th></th> -->
              </tr>
              </thead>
              <tbody>
              <ng-container
                *ngFor="let item of listParticipants | slice: (page-1) * pageSize : (page-1) * pageSize + pageSize, let i = index">
                <tr *ngIf="item.action !== 'D'">
                  <td class="text-center">{{ item.type }}</td>
                  <td class="text-center" >{{ item.firstName }}</td>
                  <td class="text-center">{{ item.lastName}}</td>
                  <td class="ACM-table-historyNote-td-3 text-center">
                    <span class="badge bg-info ng-star-inserted">
                      {{ item.stepName }}
                    </span>
                     </td>
                  <td class="text-center">{{ item.phoneNumber }}</td>
                  <td class="text-center">{{ item.email }}</td>
                  <td class="text-center">{{ item.addressParty }}</td>
                </tr>
              </ng-container>
              </tbody>
            </table>
          </div>
        </div>
      </div>

      <div class="card-footer pb-0">
        <div class="row no-gutters w-100">
          <div class="col-xl-6 col-lg-6 col-md-12">
            <ngb-pagination [collectionSize]="listParticipants.length" [(page)]="page" [pageSize]="pageSize" size="sm"
                            [maxSize]="3" [boundaryLinks]="true">
            </ngb-pagination>
          </div>
          <div class="col-xl-6 col-lg-6 col-md-12">
            <div class="d-flex justify-content-lg-end">
              <select class="custom-select" style="width: auto" name="pageSize" [(ngModel)]="pageSize">
                <option [ngValue]="5">{{'pagination.5_item'| translate }}</option>
                <option [ngValue]="10">{{'pagination.10_item'| translate }}</option>
                <option [ngValue]="20">{{'pagination.20_item'| translate }}</option>
                <option [ngValue]="50">{{'pagination.50_item'| translate }}</option>
              </select>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>




